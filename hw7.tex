%% Standard start of a latex document
\documentclass[letterpaper,12pt]{article}
%% Always use 12pt - it is much easier to read
%% Things written after '%' sign, are ignored by the latex editor - they are how to introduce comments into your .tex source
%% Anything mathematics related should be put in between '$' signs.

%% Set some names and numbers here so we can use them below
\newcommand{\name}{James Wu} %%%%%%%%%%%%%%% ---------> Change this to your name
\newcommand{\studentnumber}{92277235} %%%%%%%%%%%%%%% ---------> Change this to your student number
\newcommand{\hwnum}{7} %%%%%%%%%%%%%%% --------->  set this to the homework number

%%%%%%
%% There is a bit of stuff below which you should not have to change
%%%%%%

%% AMS mathematics packages - they contain many useful fonts and symbols.
\usepackage{amsmath, amsfonts, amssymb, bm, amsthm}

%% The geometry package changes the margins to use more of the page, I suggest
%% using it because standard latex margins are chosen for articles and letters,
%% not homework.
\usepackage[paper=letterpaper,left=25mm,right=25mm,top=30mm,bottom=30mm]{geometry}
%% For details of how this package work, google the ``latex geometry documentation''.

%% Fancy headers and footers - make the document look nice
\usepackage{fancyhdr} %% for details on how this work, search-engine ``fancyhdr documentation''
\pagestyle{fancy}

\usepackage{graphicx}

\setlength{\headheight}{15pt}

%% The header
\lhead{MATH 318} % course name as top-left
\chead{Homework \hwnum} % homework number in top-centre
\rhead{ \name, \studentnumber }
%% This is a little more complicated because we have used `` \\ '' to force a line-break between the name and number.

%% The footer
\lfoot{\name} % name on bottom-left
\cfoot{Page \thepage} % page in middle
\rfoot{\studentnumber} % student number on bottom-right

%% These put horizontal lines between the main text and header and footer.
\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\footrulewidth}{0.4pt}
%%%

%%%%%%
%% The above stuff is the same as the first template, but now we are starting to prove things, so we'd like to have a
%% good proof environment that gives us nice formatting and a little square at the end.
%% We'd also like a nice Result environment that prints that up nicely too.
%% Thankfully this exists in latex in the amsthm package
\usepackage{amsthm}
\newtheorem*{thm}{Theorem}
%% This creates a new theorem-like environment called "result", that will be titled "Result".
%% See below for examples of how to use this.
%%%%%%
\usepackage{enumitem}
%% This package allows us to make nice ordered lists with numbers, letters or roman numerals

\usepackage{titlesec}
\titlespacing*{\subsection}{0pt}{0pt}{3.0ex}
\titlespacing*{\subsubsection}{0pt}{3.0ex}{0.5ex}

\usepackage[hang,flushmargin]{footmisc}

\setlength{\parindent}{0em}
\setlength{\parskip}{0.5em}

\allowdisplaybreaks

\usepackage{empheq}

\newcommand*\wfbox[1]{\fbox{\hspace{0.4em}#1\hspace{0.4em}}}

%% Useful commands
\renewcommand*{\qed}{\hfill\ensuremath{\square}}

\newcommand*{\uvec}[1]{\hat{\bm{#1}}}

\newcommand*{\deriv}[2]{\frac{d #1}{d #2}}
\newcommand*{\pderiv}[2]{\frac{\partial #1}{\partial #2}}
\newcommand*{\nderiv}[3]{\frac{d^{#3} #1}{d #2^{#3}}}
\newcommand*{\npderiv}[3]{\frac{\partial^{#3} #1}{\partial #2^{#3}}}
\newcommand*{\divg}[1]{\nabla \cdot \mathbf{#1}}
\newcommand*{\curl}[1]{\nabla \times \mathbf{#1}}

\newcommand*{\abs}[1]{\left| #1 \right|}
\newcommand*{\norm}[1]{\abs{\abs{\mathbf{#1}}}}

\newcommand*{\ev}[1]{\left<#1\right>}

\renewcommand*{\Re}[1]{\text{Re}\left(#1\right)}
\renewcommand*{\Im}[1]{\text{Im}\left(#1\right)}

\newcommand*{\qimg}[2]{\\ \begin{center}\includegraphics[scale=#1]{#2}\end{center}}

\newcommand*{\Arg}[1]{\text{Arg}\left(#1\right)}

\newcommand*{\Log}[1]{\text{Log}\left(#1\right)}

\newcommand*{\Binom}[2]{\text{Binom}\left(#1, #2\right)}
\newcommand*{\Geom}[1]{\text{Geom}\left(#1\right)}
\newcommand*{\Poisson}[1]{\text{Poisson}\left(#1\right)}
\newcommand*{\Var}[1]{\text{Var}\left(#1\right)}
\newcommand*{\Cov}[2]{\text{Cov}\left(#1, #2\right)}

\newcommand*{\cdf}[2]{P\left(#1 \leq #2\right)}
\newcommand*{\erv}[1]{\mathbb{E}\left[#1\right]}

\newtheorem{theorem}{Theorem}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{corollary}{Corollary}[theorem]

%%

\begin{document}
\begin{flushleft}

    \subsection*{MATH 318 Homework \hwnum}

    \subsubsection*{Problem 1}
    \begin{enumerate}[label=(\alph*)]

        \item
        The event $E$ that the walker returns to the origin in $2n$ steps is precisely the event that there are equally many left and right steps, as well as equally many up and down steps. Let $E_k$ be the event that there are $k$ left and right steps, and consequently $n - k$ up and down steps. Notice that we require $k \geq 0$ and $n - k \geq 0 \, \therefore \, k \leq n$. It follows that $E_i \cap E_j = \emptyset$ for $i \neq j$ and $E = \cup_{k=0}^n E_k$.

        By symmetry, each permutation of steps is equally likely. There are $\frac{1}{4^{2n}}$ total permutations, since there are $2n$ steps with four options per step. The number of permutations in the event $E_k$ is simply the number of ways to arrange $k$ left and right steps, and $n - k$ up and down steps. The multinomial coefficient gives us
        $$\frac{(2n)!}{(k!)^2((n-k)!)^2} = \left(\frac{(2n)!}{(n!)^2}\right)\left(\frac{(n!)^2}{(k!)^2((n-k)!)^2}\right) = \binom{2n}{n}\binom{n}{k}^2$$
        
        Thus
        $$P(E_k) = \frac{1}{4^{2n}}\binom{2n}{n}\binom{n}{k}^2$$

        By Kolmogorov's third axiom of probability,
        \begin{align*}
            p_{2n} &= P(E) = \sum_{k=0}^n P(E_k) = \frac{1}{4^{2n}}\binom{2n}{n} \sum_{k=0}^n\binom{n}{k}^2
        \end{align*}
        \qed
        
        \item
        As a small flex, we take a different approach from the hint. Consider the polynomial
        $$(1 + x)^{2n} = (1 + x)^n (1 + x)^n$$
        The coefficient on the $x^n$ term is $\binom{2n}{n}$. Meanwhile, the coefficient on the $x^k$ term for the polynomial $(1 + x)^n$ is $\binom{n}{k}$. But by multiplying $(1 + x)^n$ with itself, we find that the coefficient on the $x^n$ term is also given by the convolutional sum
        $$\binom{2n}{n} x^n = \sum_{k=0}^n \left(\binom{n}{k} x^k\right)\left(\binom{n}{n-k} x^{n-k}\right) = \sum_{k=0}^n \binom{n}{k}\binom{n}{n-k}x^n$$
        $$\binom{2n}{n} = \sum_{k=0}^n \binom{n}{k}\binom{n}{n-k} = \sum_{k=0}^n \binom{n}{k}^2$$
        \qed

        \item
        We use the identity from part (b) to find
        $$P(E) = \frac{1}{4^{2n}}\binom{2n}{n}^2$$

        Let $M$ be the number of returns to the origin. If we denote $X_{2n}$ as an indicator RV for returning to the origin after $2n$ steps, we have by linearity of expectaion
        \begin{align*}
            \erv{M} &= \sum_{n=0}^\infty \erv{X_{2n}} = \sum_{n=0}^\infty p_{2n} = \sum_{n=0}^\infty \frac{1}{4^{2n}}\binom{2n}{n}^2
        \end{align*}
        The convergence of this sum depends only on the behaviour of the summand for large $n$. In this regime, we use Stirling's approximation:
        \begin{align*}
            \erv{M} &\sim \sum_{n=0}^\infty \frac{1}{4^{2n}} \left(\frac{(2n)^{2n} e^{-2n} \sqrt{4\pi n}}{n^{2n} e^{-2n} (2\pi n)}\right)^2 = \sum_{n=0}^\infty \frac{1}{4^{2n}} \left(\frac{2^{2n}}{\sqrt{\pi n}}\right)^2 = \sum_{n=0}^\infty \frac{1}{\pi n}
        \end{align*}
        This is a harmonic series, which diverges to infinity. Hence $\erv{M} = +\infty$, so the transient walk is recurrent.\qed

    \end{enumerate}

\end{flushleft}
\end{document}
